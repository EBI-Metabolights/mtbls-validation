from metabolights_utils.models.isa.assay_file import AssayFile, AssayTechnique
from metabolights_utils.models.isa.common import (
    IsaTable,
    IsaTableColumn,
    ColumnsStructure,
)
from scripts.test_data.files.assignment_01 import assignment_file

assay_file = AssayFile(
    file_path="a_REQ2025111188888-01_MS_metabolite_profiling.txt",
    assay_technique=AssayTechnique(name="MS", main_technique="MS"),
    table=IsaTable(
        columns=[
            "Sample Name",
            "Protocol REF",
            "Parameter Value[Post Extraction]",
            "Parameter Value[Derivatization]",
            "Extract Name",
            "Label",
            "Term Source REF.1",
            "Term Accession Number.1",
            "Protocol REF.2",
            "Parameter Value[Scan polarity]",
            "Parameter Value[Scan m/z range]",
            "Parameter Value[Instrument]",
            "Term Source REF.2",
            "Term Accession Number.2",
            "Parameter Value[Ion source]",
            "Term Source REF.3",
            "Term Accession Number.3",
            "Parameter Value[Mass analyzer]",
            "Term Source REF.4",
            "Term Accession Number.4",
            "Parameter Value[Test Data]",
            "Unit",
            "Term Source REF.5",
            "Term Accession Number.5",
            "MS Assay Name",
            "Raw Spectral Data File",
            "Protocol REF.3",
            "Normalization Name",
            "Derived Spectral Data File",
            "Protocol REF.4",
            "Data Transformation Name",
            "Metabolite Assignment File",
        ],
        headers=[
            IsaTableColumn(
                column_index=0,
                column_header="Sample Name",
                column_name="Sample Name",
                column_structure=ColumnsStructure.SINGLE_COLUMN,
            ),
            IsaTableColumn(
                column_index=1,
                column_header="Protocol REF",
                column_name="Protocol REF",
                column_structure=ColumnsStructure.SINGLE_COLUMN,
            ),
            IsaTableColumn(
                column_index=2,
                column_header="Parameter Value[Post Extraction]",
                column_name="Parameter Value[Post Extraction]",
                column_structure=ColumnsStructure.SINGLE_COLUMN,
            ),
            IsaTableColumn(
                column_index=3,
                column_header="Parameter Value[Derivatization]",
                column_name="Parameter Value[Derivatization]",
                column_structure=ColumnsStructure.SINGLE_COLUMN,
            ),
            IsaTableColumn(
                column_index=4,
                column_header="Extract Name",
                column_name="Extract Name",
                column_structure=ColumnsStructure.SINGLE_COLUMN,
            ),
            IsaTableColumn(
                column_index=5,
                column_header="Label",
                column_name="Label",
                column_structure=ColumnsStructure.ONTOLOGY_COLUMN,
            ),
            IsaTableColumn(
                column_index=8,
                column_header="Protocol REF.2",
                column_name="Protocol REF.2",
                column_structure=ColumnsStructure.SINGLE_COLUMN,
            ),
            IsaTableColumn(
                column_index=9,
                column_header="Parameter Value[Scan polarity]",
                column_name="Parameter Value[Scan polarity]",
                column_structure=ColumnsStructure.SINGLE_COLUMN,
            ),
            IsaTableColumn(
                column_index=10,
                column_header="Parameter Value[Scan m/z range]",
                column_name="Parameter Value[Scan m/z range]",
                column_structure=ColumnsStructure.SINGLE_COLUMN,
            ),
            IsaTableColumn(
                column_index=11,
                column_header="Parameter Value[Instrument]",
                column_name="Parameter Value[Instrument]",
                column_structure=ColumnsStructure.ONTOLOGY_COLUMN,
            ),
            IsaTableColumn(
                column_index=14,
                column_header="Parameter Value[Ion source]",
                column_name="Parameter Value[Ion source]",
                column_structure=ColumnsStructure.ONTOLOGY_COLUMN,
            ),
            IsaTableColumn(
                column_index=17,
                column_header="Parameter Value[Mass analyzer]",
                column_name="Parameter Value[Mass analyzer]",
                column_structure=ColumnsStructure.ONTOLOGY_COLUMN,
            ),
            IsaTableColumn(
                column_index=20,
                column_header="Parameter Value[Test Data]",
                column_name="Parameter Value[Test Data]",
                column_structure=ColumnsStructure.SINGLE_COLUMN_AND_UNIT_ONTOLOGY,
            ),
            IsaTableColumn(
                column_index=24,
                column_header="MS Assay Name",
                column_name="MS Assay Name",
                column_structure=ColumnsStructure.SINGLE_COLUMN,
            ),
            IsaTableColumn(
                column_index=25,
                column_header="Raw Spectral Data File",
                column_name="Raw Spectral Data File",
                column_structure=ColumnsStructure.SINGLE_COLUMN,
            ),
            IsaTableColumn(
                column_index=26,
                column_header="Protocol REF.3",
                column_name="Protocol REF.3",
                column_structure=ColumnsStructure.SINGLE_COLUMN,
            ),
            IsaTableColumn(
                column_index=27,
                column_header="Normalization Name",
                column_name="Normalization Name",
                column_structure=ColumnsStructure.SINGLE_COLUMN,
            ),
            IsaTableColumn(
                column_index=28,
                column_header="Derived Spectral Data File",
                column_name="Derived Spectral Data File",
                column_structure=ColumnsStructure.SINGLE_COLUMN,
            ),
            IsaTableColumn(
                column_index=29,
                column_header="Protocol REF.4",
                column_name="Protocol REF.4",
                column_structure=ColumnsStructure.SINGLE_COLUMN,
            ),
            IsaTableColumn(
                column_index=30,
                column_header="Data Transformation Name",
                column_name="Data Transformation Name",
                column_structure=ColumnsStructure.SINGLE_COLUMN,
            ),
            IsaTableColumn(
                column_index=31,
                column_header="Metabolite Assignment File",
                column_name="Metabolite Assignment File",
                column_structure=ColumnsStructure.SINGLE_COLUMN,
            ),
        ],
        data={
            "Sample Name": ["Sample 1", "Sample 2", "Sample 3"],
            "Protocol REF": ["Extraction", "Extraction", "Extraction"],
            "Parameter Value[Post Extraction]": [
                "MeOH/H2O (70:30, v:v)",
                "MeOH/H2O (70:30, v:v)",
                "MeOH/H2O (70:30, v:v)",
            ],
            "Parameter Value[Derivatization]": ["", "", ""],
            "Extract Name": ["Sample 1", "Sample 2", "Sample 3"],
            "Label": [
                "Label 1",
                "Label 2",
                "Label 3",
            ],
            "Term Source REF.1": ["EFO", "EFO", "EFO"],
            "Term Accession Number.1": [
                "http://www.ebi.ac.uk",
                "http://www.ebi.ac.uk",
                "http://www.ebi.ac.uk",
            ],
            "Protocol REF.2": [
                "Mass spectrometry",
                "Mass spectrometry",
                "Mass spectrometry",
            ],
            "Parameter Value[Scan polarity]": [
                "alternating",
                "alternating",
                "alternating",
            ],
            "Parameter Value[Scan m/z range]": ["100-1000", "100-1000", "100-1000"],
            "Parameter Value[Instrument]": [
                "Thermo Scientific Q Exactive HF",
                "Thermo Scientific Q Exactive HF",
                "Thermo Scientific Q Exactive HF",
            ],
            "Parameter Value[Test Data]": [
                "Test Data",
                "Test Data",
                "Test Data",
            ],
            "Unit": ["", "", ""],
            "Term Source REF.5": ["", "", ""],
            "Term Accession Number.5": ["", "", ""],
            "Term Source REF.2": ["MTBLS", "MTBLS", "MTBLS"],
            "Term Accession Number.2": [
                "http://www.ebi.ac.uk/metabolights/ontology/MTBLS_000660",
                "http://www.ebi.ac.uk/metabolights/ontology/MTBLS_000660",
                "http://www.ebi.ac.uk/metabolights/ontology/MTBLS_000660",
            ],
            "Parameter Value[Ion source]": [
                "electrospray ionization",
                "electrospray ionization",
                "electrospray ionization",
            ],
            "Term Source REF.3": ["MS", "MS", "MS"],
            "Term Accession Number.3": [
                "http://purl.obolibrary.org/obo/MS_1000073",
                "http://purl.obolibrary.org/obo/MS_1000073",
                "http://purl.obolibrary.org/obo/MS_1000073",
            ],
            "Parameter Value[Mass analyzer]": ["orbitrap", "orbitrap", "orbitrap"],
            "Term Source REF.4": ["MS", "MS", "MS"],
            "Term Accession Number.4": [
                "http://purl.obolibrary.org/obo/MS_1000484",
                "http://purl.obolibrary.org/obo/MS_1000484",
                "http://purl.obolibrary.org/obo/MS_1000484",
            ],
            "MS Assay Name": ["Assay 1", "Assay 2", "Assay 3"],
            "Raw Spectral Data File": [
                "FILES/raw1.raw",
                "FILES/raw2.raw",
                "FILES/raw3.raw",
            ],
            "Protocol REF.3": [
                "Data transformation",
                "Data transformation",
                "Data transformation",
            ],
            "Normalization Name": ["", "", ""],
            "Derived Spectral Data File": ["", "", ""],
            "Protocol REF.4": [
                "Metabolite identification",
                "Metabolite identification",
                "Metabolite identification",
            ],
            "Data Transformation Name": ["", "", ""],
            "Metabolite Assignment File": [
                assignment_file.file_path,
                assignment_file.file_path,
                assignment_file.file_path,
            ],
        },
    ),
)
